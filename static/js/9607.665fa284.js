"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[9607],{9607:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(96540),l=n(78717),r=n(33551),c=n(1043),o=n(30799),s=n(17681),i=n(1775),m=n(71238),u=n(37071),d=n(51629),h=n(20212),E=n(7562);function f(){return a.createElement("div",null,a.createElement(l.A,{size:20,style:{marginRight:20}}),a.createElement(r.A,{display:"inline"},"Creating SVG"))}function g({children:e,...t}){return a.createElement("div",null,a.createElement(c.A,{...t},e))}function v(e,t){return(0,E.useLocalStorage)("svg-"+e,t)}function C({model:e,handleClose:t}){const n=(0,E.getSession)(e),l="undefined"!=typeof OffscreenCanvas,[c,C]=(0,a.useState)(l),[y,p]=(0,a.useState)(!1),[b,A]=(0,a.useState)(),[k,S]=v("file","jbrowse.svg"),[w,z]=v("theme",n.themeName||"default");return a.createElement(h.Dialog,{open:!0,onClose:t,title:"Export SVG"},a.createElement(o.A,null,b?a.createElement(h.ErrorMessage,{error:b}):y?a.createElement(f,null):null,a.createElement(g,{helperText:"filename",value:k,onChange:e=>S(e.target.value)}),n.allThemes?a.createElement(g,{select:!0,label:"Theme",value:w,onChange:e=>z(e.target.value)},Object.entries(n.allThemes()).map((([e,t])=>a.createElement(s.A,{key:e,value:e},t.name||"(Unknown name)")))):null,l?a.createElement(i.A,{control:a.createElement(m.A,{checked:c,onChange:()=>C((e=>!e))}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):a.createElement(r.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),a.createElement(u.A,null,a.createElement(d.A,{variant:"contained",color:"secondary",onClick:()=>t()},"Cancel"),a.createElement(d.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{p(!0),A(void 0);try{await e.exportSvg({rasterizeLayers:c,filename:k,themeName:w}),t()}catch(e){console.error(e),A(e)}finally{p(!1)}}},"Submit")))}}}]);