"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[7893],{63532:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(96540),r=n(44015),l=n(7562),a=n(92168),i=n(58285),s=n(3822);function c(e,t){var n,o,r,l;const a=t?(0,s.parseBreakend)(t):void 0,i=e.get("start");let c=e.get("end");const d=e.get("strand"),u=e.get("mate"),m=e.get("refName");let g,v=0,f=0,k=0,p=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some((e=>null==t?void 0:t.startsWith(e)))){const t=e.get("INFO"),a=null!==(o=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==o?o:c;g=null!==(l=null===(r=null==t?void 0:t.CHR2)||void 0===r?void 0:r[0])&&void 0!==l?l:m,v=a,f=a-1,c=i+1}else if(null==a?void 0:a.MatePosition){const e=a.MatePosition.split(":");p="left"===a.MateDirection?1:-1,k="left"===a.Join?-1:1,v=+e[1],f=+e[1]-1,g=e[0]}return{k1:{refName:m,start:i,end:c,strand:d,mateDirection:p},k2:null!=u?u:{refName:g,end:v,start:f,mateDirection:k}}}function d(e,t){var n;const{k1:o,k2:r}=c(e,t);return[e.get("name"),e.get("id"),(0,l.assembleLocString)(o),(0,l.assembleLocString)(r),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter((e=>!!e)).join(" - ")}const u=(0,r.observer)((function({model:e,feature:t,alt:n,assembly:r,view:s}){var u,m;const[g,v]=(0,o.useState)(!1),{height:f}=e,{k1:k,k2:p}=c(t,n),E=(0,o.useRef)(null),b=(0,a.getConf)(e,"color",{feature:t,alt:n}),h=r.getCanonicalRefName(k.refName)||k.refName,C=r.getCanonicalRefName(p.refName)||p.refName,x=k.start,N=p.start,S=null===(u=s.bpToPx({refName:h,coord:x}))||void 0===u?void 0:u.offsetPx,y=null===(m=s.bpToPx({refName:C,coord:N}))||void 0===m?void 0:m.offsetPx;if(void 0!==S&&void 0!==y){const r=(y-S)/2,a=Math.abs(r),c=Math.min(f,a),u=S-s.offsetPx,m=y-s.offsetPx,h=g?"black":b,C=3;return a>1?o.createElement(o.Fragment,null,o.createElement("path",{d:`M ${u} 0 C ${u} ${c}, ${m} ${c}, ${m} 0`,ref:E,...(0,l.getStrokeProps)(h),strokeWidth:C,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),fill:"none",pointerEvents:"stroke"}),void 0!==k.mateDirection?o.createElement("line",{...(0,l.getStrokeProps)(h),strokeWidth:C,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),x1:u,x2:u+20*k.mateDirection,y1:1.5,y2:1.5}):null,void 0!==p.mateDirection?o.createElement("line",{...(0,l.getStrokeProps)(h),strokeWidth:C,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),x1:m,x2:m+20*p.mateDirection,y1:1.5,y2:1.5}):null,g?o.createElement(i.A,{contents:d(t,n)}):null):null}return null})),m=(0,r.observer)((function({model:e,exportSVG:t,children:n}){const{height:r}=e,a=(0,l.getContainingView)(e),i=Math.round(a.dynamicBlocks.totalWidthPx);return t?n:o.createElement("svg",{width:i,height:r},n)})),g=(0,r.observer)((function({model:e,exportSVG:t}){const n=(0,l.getContainingView)(e),r=(0,l.getSession)(e),{assemblyManager:a}=r,{features:i}=e,s=a.get(n.assemblyNames[0]);return s?o.createElement(m,{model:e,exportSVG:t},null==i?void 0:i.map((t=>{var l;const a=t.get("ALT");return null!==(l=null==a?void 0:a.map((l=>o.createElement(u,{key:t.id()+"-"+l,session:r,feature:t,alt:l,view:n,model:e,assembly:s}))))&&void 0!==l?l:o.createElement(u,{key:t.id(),session:r,feature:t,view:n,model:e,assembly:s})}))):null}))},7893:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(96540),r=n(44015),l=n(56655),a=n(19455),i=n(20212),s=n(8005),c=n(44877),d=n(42702),u=n(93891),m=n(7562);const g=(0,o.lazy)((()=>Promise.resolve().then(n.t.bind(n,92786,23)))),v=(0,c.makeStyles)()((e=>({loading:{backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${e.palette.action.disabledBackground} 5px, ${e.palette.action.disabledBackground} 10px)`,position:"absolute",bottom:0,height:50,width:300,right:0,pointerEvents:"none",textAlign:"center"}}))),f=(0,r.observer)((function({model:e,children:t}){const{error:n,regionTooLarge:r}=e;return n?o.createElement(s.LW,{message:`${n}`,severity:"error",action:o.createElement(o.Fragment,null,o.createElement(l.A,{title:"Reload"},o.createElement(a.A,{"data-testid":"reload_button",onClick:()=>e.reload()},o.createElement(d.default,null))),o.createElement(l.A,{title:"Show stack trace"},o.createElement(a.A,{onClick:()=>{(0,m.getSession)(e).queueDialog((t=>[g,{onClose:t,error:e.error}]))}},o.createElement(u.default,null))))}):r?e.regionCannotBeRendered():o.createElement(k,{model:e},t)})),k=(0,r.observer)((function({model:e,children:t}){const{loading:n}=e;return o.createElement("div",null,t,n?o.createElement(p,{model:e}):null)})),p=(0,r.observer)((function({model:e}){const{classes:t}=v(),{message:n}=e;return o.createElement("div",{className:t.loading},o.createElement(i.LoadingEllipses,{message:n}))})),E=f;var b=n(63532);const h=(0,r.observer)((function({model:e,exportSVG:t}){return o.createElement(E,{model:e},o.createElement(b.A,{model:e,exportSVG:t}))}))}}]);