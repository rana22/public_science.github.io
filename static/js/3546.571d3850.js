"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[3546],{43546:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(2340),r=n(34105),s=n(7562),i=n(9084),o=n(48825);class d extends a.BaseFeatureDataAdapter{async configure(){var e;const t=await(null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw new Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,r.ObservableCreate)((async n=>{var a;const r=await this.configure(),d=e.end+1e4,c=Math.max(0,e.start-1e4);if(d<0||c>d)return void n.complete();const f=r.getFeatures({...e,start:c,end:d},t),u=(null===(a=(await(0,o._)(f.pipe((0,i.$)())))[0])||void 0===a?void 0:a.get("seq"))||"",h=this.getConf("search"),g=this.getConf("searchForward"),l=this.getConf("searchReverse"),m=this.getConf("caseInsensitive"),p=new RegExp(h,"g"+(m?"i":""));if(h){if(g){const t=u.matchAll(p);for(const a of t){const t=c+a.index,r=c+a.index+a[0].length;(0,s.doesIntersect2)(t,r,e.start,e.end)&&n.next(new s.SimpleFeature({uniqueId:`${this.id}-${t}-${a[0]}-pos`,refName:e.refName,start:t,end:r,name:a[0],strand:1}))}}if(l){const t=(0,s.revcom)(u).matchAll(p);for(const a of t){const t=d-a.index,r=d-a.index-a[0].length;(0,s.doesIntersect2)(r,t,e.start,e.end)&&n.next(new s.SimpleFeature({uniqueId:`${this.id}-${r}-${a[0]}-neg`,refName:e.refName,start:r,end:t,name:a[0],strand:-1}))}}}n.complete()}))}freeResources(){}}}}]);