"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[142],{60142:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(2340),r=a(34105),n=a(7562),i=a(70172),o=a(81160);function u(e){const t=e.slice(e.lastIndexOf("/")+1);return t.slice(0,t.lastIndexOf("."))}class c extends s.BaseFeatureDataAdapter{async getAdapters(){const e=this.getSubAdapter;if(!e)throw new Error("no getSubAdapter available");let t=this.getConf("subadapters");return(null==t?void 0:t.length)||(t=this.getConf("bigWigs").map((e=>({type:"BigWigAdapter",source:u(e),bigWigLocation:{uri:e}})))),Promise.all(t.map((async t=>{const a=(await e(t)).dataAdapter;return{source:t.name||a.id,...t,dataAdapter:a}})))}async getRefNames(e){const t=await this.getAdapters(),a=await Promise.all(t.map((t=>t.dataAdapter.getRefNames(e))));return[...new Set(a.flat())]}async getGlobalStats(e){const t=await this.getAdapters(),a=(await Promise.all(t.map((t=>{var a,s;return null===(s=(a=t.dataAdapter).getGlobalStats)||void 0===s?void 0:s.call(a,e)})))).filter((e=>!!e));return{scoreMin:(0,n.min)(a.map((e=>e.scoreMin))),scoreMax:(0,n.max)(a.map((e=>e.scoreMax)))}}getFeatures(e,t={}){return(0,r.ObservableCreate)((async a=>{const s=await this.getAdapters();(0,i.h)(...s.map((a=>a.dataAdapter.getFeatures(e,t).pipe((0,o.T)((e=>e.get("source")?e:new n.SimpleFeature({...e.toJSON(),uniqueId:`${a.source}-${e.id()}`,source:a.source}))))))).subscribe(a)}),t.signal)}async getMultiRegionFeatureDensityStats(e){return{featureDensity:0}}async getSources(){return(await this.getAdapters()).map((({dataAdapter:e,source:t,name:a,...s})=>({name:t,__name:a,...s})))}freeResources(){}}c.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"];const l=c}}]);