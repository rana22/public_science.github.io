"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[3219],{3219:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var l=t(96540),n=t(44015),r=t(1043),i=t(30799),c=t(33551),s=t(90656),o=t(34339),m=t(37071),d=t(51629),u=t(20212);const p=(0,t(44877).makeStyles)()((e=>({paper:{padding:e.spacing(2),margin:e.spacing(2)},field:{margin:e.spacing(2)}}))),g=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function v(e){const{flag:a=0,setFlag:t}=e;return l.createElement(l.Fragment,null,l.createElement(r.A,{type:"number",value:a,onChange:e=>t(+e.target.value)}),g.map(((e,n)=>{const r=a&1<<n,i=`${e}_${r}`;return l.createElement("div",{key:i},l.createElement("input",{type:"checkbox",checked:Boolean(r),onChange:e=>{e.target.checked?t(a|1<<n):t(a&~(1<<n))}}),l.createElement("label",{htmlFor:i},e))})))}const h=(0,n.observer)((function(e){var a,t;const{model:n,handleClose:g}=e,{classes:h}=p(),{filterBy:f}=n,[E,A]=(0,l.useState)(f.flagInclude),[y,C]=(0,l.useState)(f.flagExclude),[F,b]=(0,l.useState)((null===(a=f.tagFilter)||void 0===a?void 0:a.tag)||""),[k,N]=(0,l.useState)((null===(t=f.tagFilter)||void 0===t?void 0:t.value)||""),[x,S]=(0,l.useState)(f.readName||""),R=F.match(/^[A-Za-z][A-Za-z0-9]$/),I="https://broadinstitute.github.io/picard/explain-flags.html";return l.createElement(u.Dialog,{open:!0,onClose:g,title:"Filter options"},l.createElement(i.A,null,l.createElement(c.A,null,"Set filter bitmask options. Refer to ",l.createElement(s.A,{href:I},I)," ","for details"),l.createElement(o.A,{className:h.paper,variant:"outlined"},l.createElement("div",{style:{display:"flex"}},l.createElement("div",null,l.createElement(c.A,null,"Read must have ALL these flags"),l.createElement(v,{flag:E,setFlag:A})),l.createElement("div",null,l.createElement(c.A,null,"Read must have NONE of these flags"),l.createElement(v,{flag:y,setFlag:C})))),l.createElement(o.A,{className:h.paper,variant:"outlined"},l.createElement(c.A,null,"Filter by tag name and value. Use * in the value field to get all reads containing any value for that tag. Example: filter tag name SA with value * to get all split/supplementary reads. Other examples include HP for haplotype, or RG for read group"),l.createElement(r.A,{className:h.field,value:F,onChange:e=>b(e.target.value),placeholder:"Enter tag name",inputProps:{maxLength:2},error:2===F.length&&!R,helperText:2!==F.length||R?"":"Not a valid tag"}),l.createElement(r.A,{className:h.field,value:k,onChange:e=>N(e.target.value),placeholder:"Enter tag value"})),l.createElement(o.A,{className:h.paper,variant:"outlined"},l.createElement(c.A,null,"Filter by read name"),l.createElement(r.A,{className:h.field,value:x,onChange:e=>S(e.target.value),placeholder:"Enter read name"})),l.createElement(m.A,null,l.createElement(d.A,{variant:"contained",color:"primary",autoFocus:!0,type:"submit",onClick:()=>{n.setFilterBy({flagInclude:E,flagExclude:y,readName:x,tagFilter:""!==F?{tag:F,value:k}:void 0}),g()}},"Submit"),l.createElement(d.A,{variant:"contained",color:"secondary",onClick:()=>g()},"Cancel"))))}))}}]);