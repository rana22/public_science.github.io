"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[2866],{50485:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(2340),r=a(48825),n=a(34105),o=a(7562),i=a(9084);class c extends s.BaseFeatureDataAdapter{constructor(){super(...arguments),this.gcMode="content"}async configure(){var e;const t=await(null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw new Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,n.ObservableCreate)((async a=>{var s;const n=await this.configure(),c=this.getConf("windowSize"),d=this.getConf("windowDelta"),u=1===c?1:c/2,l=1===c;let{start:f,end:g}=e;if(f=Math.max(0,f-u),g+=u,g<0||f>g)return void a.complete();const h=n.getFeatures({...e,start:f,end:g},t),p=(null===(s=(await(0,r._)(h.pipe((0,i.$)())))[0])||void 0===s?void 0:s.get("seq"))||"";for(let t=u;t<p.length-u;t+=d){const s=l?p[t]:p.slice(t-u,t+u);let r=0,n=0,i=0;for(const e of s)"c"===e||"C"===e?r++:"g"!==e&&"G"!==e||n++,"N"!==e&&i++;const c=f;let g;"content"===this.gcMode?g=(n+r)/(i||1):"skew"===this.gcMode&&(g=(n-r)/(n+r||1)),a.next(new o.SimpleFeature({uniqueId:`${this.id}_${c+t}`,refName:e.refName,start:c+t,end:c+t+d,score:g}))}a.complete()}))}freeResources(){}}c.capabilities=["hasLocalStats"];const d=c}}]);