"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[8009],{88009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var n=a(96540),l=a(44015),o=a(30799),s=a(37071),r=a(51629),i=a(20212),c=a(16718),m=a(15939),d=a(34339),u=a(61523),A=a(53723),p=a(23049),E=a(70691),y=a(36575),b=a(19455),L=a(92168),f=a(63901),v=a(67034);const g=(0,l.observer)((function({rootModel:e,setIsAssemblyBeingEdited:t,setAssemblyBeingEdited:a}){const{assemblies:l}=e.jbrowse;return n.createElement(m.A,{component:d.A},n.createElement(u.A,null,n.createElement(A.A,null,n.createElement(p.A,null,n.createElement(E.A,null,"Name"),n.createElement(E.A,null,"Display name"),n.createElement(E.A,null,"Aliases"),n.createElement(E.A,null,"Actions"))),n.createElement(y.A,null,l.map((l=>{const o=(0,L.readConfObject)(l,"name"),s=(0,L.readConfObject)(l,"displayName"),r=(0,L.readConfObject)(l,"aliases");return n.createElement(p.A,{key:o},n.createElement(E.A,null,o),n.createElement(E.A,null,s),n.createElement(E.A,null,r?r.toString():""),n.createElement(E.A,null,n.createElement(b.A,{"data-testid":`${o}-edit`,onClick:()=>{t(!0),a(l)}},n.createElement(f.A,{color:"primary"})),n.createElement(b.A,{"data-testid":`${o}-delete`,onClick:()=>function(t){e.jbrowse.removeAssemblyConf(t)}(o)},n.createElement(v.A,{color:"error"}))))})))))}));var S=a(1043),h=a(17681),C=a(99020);const F=(0,l.observer)((function({adapterSelection:e,setAdapterSelection:t,adapterTypes:a}){return n.createElement(S.A,{value:e,label:"Type",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>t(e.target.value)},a.map((e=>n.createElement(h.A,{key:e,value:e},e))))})),B=(0,l.observer)((({adapterSelection:e,fastaLocation:t,setFastaLocation:a,faiLocation:l,setFaiLocation:o,gziLocation:s,setGziLocation:r,twoBitLocation:c,setTwoBitLocation:m,chromSizesLocation:d,setChromSizesLocation:u})=>"IndexedFastaAdapter"===e||"BgzipFastaAdapter"===e?n.createElement(C.Ay,{container:!0,spacing:2},n.createElement(C.Ay,{item:!0},n.createElement(i.FileSelector,{name:"fastaLocation",location:t,setLocation:e=>a(e)})),n.createElement(C.Ay,{item:!0},n.createElement(i.FileSelector,{name:"faiLocation",location:l,setLocation:e=>o(e)})),"BgzipFastaAdapter"===e?n.createElement(C.Ay,{item:!0},n.createElement(i.FileSelector,{name:"gziLocation",location:s,setLocation:e=>r(e)})):null):"TwoBitAdapter"===e?n.createElement(C.Ay,{container:!0,spacing:2},n.createElement(C.Ay,{item:!0},n.createElement(i.FileSelector,{name:"twoBitLocation",location:c,setLocation:e=>m(e)})),n.createElement(C.Ay,{item:!0},n.createElement(i.FileSelector,{name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:d,setLocation:e=>u(e)}))):null)),w={uri:""},z=(0,l.observer)((function({rootModel:e,setFormOpen:t}){const a=["IndexedFastaAdapter","BgzipFastaAdapter","TwoBitAdapter"],[l,o]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[m,u]=(0,n.useState)(a[0]),[A,p]=(0,n.useState)(w),[E,y]=(0,n.useState)(w),[b,L]=(0,n.useState)(w),[f,v]=(0,n.useState)(w),[g,h]=(0,n.useState)(w);return n.createElement("div",null,n.createElement(d.A,null,n.createElement(S.A,{id:"assembly-name",inputProps:{"data-testid":"assembly-name"},label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:l,onChange:e=>o(e.target.value)}),n.createElement(S.A,{id:"assembly-name",inputProps:{"data-testid":"assembly-display-name"},label:"Assembly display name",helperText:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:s,onChange:e=>i(e.target.value)}),n.createElement(F,{adapterSelection:m,setAdapterSelection:u,adapterTypes:a}),n.createElement(B,{adapterSelection:m,fastaLocation:A,setFastaLocation:p,faiLocation:E,setFaiLocation:y,gziLocation:b,setGziLocation:L,twoBitLocation:f,setTwoBitLocation:v,chromSizesLocation:g,setChromSizesLocation:h})),n.createElement(r.A,{variant:"contained",color:"secondary",startIcon:n.createElement(c.A,null),onClick:function(){if(""===l)e.session.notify("Can't create an assembly without a name");else{let a;t(!1),"IndexedFastaAdapter"===m?a={name:l,displayName:s,sequence:{adapter:{type:"IndexedFastaAdapter",fastaLocation:A,faiLocation:E}}}:"BgzipFastaAdapter"===m?a={name:l,displayName:s,sequence:{adapter:{type:"BgzipFastaAdapter",fastaLocation:A,faiLocation:E,gziLocation:b}}}:"TwoBitAdapter"===m&&(a={name:l,displayName:s,sequence:{adapter:{type:"TwoBitAdapter",twoBitLocation:f,chromSizesLocation:g}}}),e.jbrowse.addAssemblyConf(a),e.session.notify(`Successfully added ${l} assembly to JBrowse 2`,"success")}}},"Create new assembly"))}));var k=a(38310);const T=(0,a(44877).makeStyles)()({container:{overflow:"auto",maxHeight:600}}),x=(0,l.observer)((function({assembly:e}){const{classes:t}=T();return n.createElement("div",{className:t.container},e?n.createElement(k.SS,{model:{target:e}}):n.createElement("div",null,"No assembly"))})),I=(0,l.observer)((function({rootModel:e,onClose:t}){const[a,l]=(0,n.useState)(!1),[m,d]=(0,n.useState)(!1),[u,A]=(0,n.useState)(),p=!a&&!m;return n.createElement(i.Dialog,{open:!0,onClose:()=>t(!1),title:"Assembly manager"},n.createElement(o.A,null,p?n.createElement(g,{rootModel:e,setIsAssemblyBeingEdited:d,setAssemblyBeingEdited:A}):null,m?n.createElement(x,{assembly:u}):null,a?n.createElement(z,{rootModel:e,setFormOpen:l}):null),n.createElement(s.A,null,a?n.createElement(r.A,{variant:"contained",onClick:()=>l(!1)},"Back"):null,m?n.createElement(r.A,{variant:"contained",onClick:()=>d(!1)},"Back"):null,p?n.createElement(n.Fragment,null,n.createElement(r.A,{color:"secondary",variant:"contained",onClick:()=>t(!1)},"Close"),n.createElement(r.A,{variant:"contained",startIcon:n.createElement(c.A,null),onClick:()=>l(!0)},"Add new assembly")):null))}))},63901:(e,t,a)=>{var n=a(24994);t.A=void 0;var l=n(a(42032)),o=a(74848);t.A=(0,l.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create")},67034:(e,t,a)=>{var n=a(24994);t.A=void 0;var l=n(a(42032)),o=a(74848);t.A=(0,l.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);