"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[5885],{62516:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(96540),n=a(44015),l=a(7562),i=a(13734),o=a(44675);const s=(0,a(44877).makeStyles)()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function c(e,t,a,r){e.flipped&&([a,r]=[r,a]);const n=e.bpToXY(a,t),l=e.bpToXY(r,t);return["M",...n,"A",t,t,"0",Math.abs(r-a)/e.bpPerRadian>Math.PI?"1":"0","1",...l].join(" ")}const m=(0,n.observer)((function({model:e,slice:t,region:a}){const n=(0,o.A)(),{radiusPx:i}=e,s=i+1,{endRadians:c,startRadians:m}=t,g=(0,l.polarToCartesian)(s,m),h=(0,l.polarToCartesian)(s,c),u=(c-m)*s,p=c-m>Math.PI?"1":"0",f=(c+m)/2,x=`[${Number(a.regions.length).toLocaleString()}]`;return r.createElement(r.Fragment,null,r.createElement(d,{text:x,view:e,maxWidthPx:u,radians:f,radiusPx:s,title:`${x} more regions`,color:n.palette.text.primary}),r.createElement("path",{d:["M",...g,"A",s,s,"0",p,"1",...h].join(" "),...(0,l.getStrokeProps)(n.palette.text.secondary),strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),d=(0,n.observer)((function({view:e,text:t,maxWidthPx:a,radians:n,radiusPx:i,title:o,color:c}){const{classes:m}=s(),d=(0,l.polarToCartesian)(i+5,n);return t?6.5*t.length<a?r.createElement("text",{x:0,y:0,className:m.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)+90})`,...(0,l.getFillProps)(c)},t,r.createElement("title",null,o||t)):a>4?(0,l.radToDeg)(n+e.offsetRadians-Math.PI/2)>=180?r.createElement("text",{x:0,y:0,className:m.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)})`,fill:c},t,r.createElement("title",null,o||t)):r.createElement("text",{x:0,y:0,className:m.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)+180})`,fill:c},t,r.createElement("title",null,o||t)):null:null})),g=(0,n.observer)((function({model:e,slice:t,region:a}){const n=(0,o.A)(),{radiusPx:s}=e,{endRadians:m,startRadians:g}=t,h=(m+g)/2,u=(m-g)*s;let p;const f=(0,l.getSession)(e).assemblyManager.get(a.assemblyName);if(f&&(p=f.getRefNameColor(a.refName)),p)try{p=(0,i.makeContrasting)(p,n.palette.background.paper)}catch(e){p=n.palette.text.primary}else p=n.palette.text.primary;return r.createElement(r.Fragment,null,r.createElement(d,{text:a.refName,view:e,maxWidthPx:u,radians:h,radiusPx:s,color:p}),r.createElement("path",{d:c(t,s+1,a.start,a.end),stroke:p,strokeWidth:2,fill:"none"}))})),h=(0,n.observer)((function({model:e,slice:t}){return t.region.elided?r.createElement(m,{key:(0,l.assembleLocString)(t.region.regions[0]),model:e,region:t.region,slice:t}):r.createElement(g,{key:(0,l.assembleLocString)(t.region),region:t.region,model:e,slice:t})}))},85885:(e,t,a)=>{a.d(t,{renderToSvg:()=>g});var r=a(96540),n=a(72363),l=a(27813),i=a(7562),o=a(20212),s=a(50346),c=a(44675);function m({width:e,height:t,shift:a}){const n=(0,c.A)();return r.createElement("rect",{width:e+2*a,height:t,fill:(0,i.stripAlpha)(n.palette.background.default)})}var d=a(62516);async function g(e,t){var a;await(0,l.when)((()=>e.initialized));const{themeName:c="default",Wrapper:g=(({children:e})=>e)}=t,h=(0,i.getSession)(e),u=null===(a=h.allThemes)||void 0===a?void 0:a.call(h)[c],{createRootFn:p}=(0,s.getRoot)(e),{width:f,tracks:x,height:w}=e,b=await Promise.all(x.map((async e=>{const a=e.displays[0];return await(0,l.when)((()=>void 0===a.ready||a.ready)),{track:e,result:await a.renderSvg({...t,theme:u})}}))),{staticSlices:k,offsetRadians:E,centerXY:y}=e,v=(0,i.radToDeg)(E);return(0,i.renderToStaticMarkup)(r.createElement(n.A,{theme:(0,o.createJBrowseTheme)(u)},r.createElement(g,null,r.createElement("svg",{width:f,height:w,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,f+100,w].toString()},r.createElement(m,{width:f,height:w,shift:50}),r.createElement("g",{transform:`translate(${y}) rotate(${v})`},k.map(((t,a)=>r.createElement(d.A,{key:a,model:e,slice:t}))),b.map((({result:e},t)=>r.createElement(r.Fragment,{key:t},e))))))),p)}}}]);