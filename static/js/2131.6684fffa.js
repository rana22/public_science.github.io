"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[2131],{42131:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(96540),l=n(44877),r=n(44015),s=n(7562),o=n(97834),c=n(99020),i=n(45359),m=n(78717),u=n(51629),d=n(20212),g=n(39781),y=n(78764),b=n(48424),p=n(3030);const v=(0,r.observer)((function({model:e,selectedAsm:t,value:n,setValue:l,setOption:r}){const o=(0,s.getSession)(e),{assemblyManager:c,textSearchManager:i}=o,{rankSearchResults:m}=e,u=e.searchScope(t),d=c.get(t);return a.createElement(b.A,{fetchResults:e=>(0,p.Jf)({queryString:e,assembly:d,textSearchManager:i,rankSearchResults:m,searchScope:u}),model:e,assemblyName:t,value:n,minWidth:270,onChange:e=>l(e),onSelect:e=>r(e),TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})})),E=(0,l.makeStyles)()((e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}}))),h=(0,r.observer)((function({model:e}){var t;const{classes:n}=E(),l=(0,s.getSession)(e),{assemblyNames:r,assemblyManager:b}=l,{error:p}=e,[h,S]=(0,a.useState)(r[0]),[f,A]=(0,a.useState)(),C=b.get(h),k=r.length?null==C?void 0:C.error:"No configured assemblies",N=k||p,[w,F]=(0,a.useState)(""),M=null==C?void 0:C.regions,R=!!M,x=M?null===(t=M[0])||void 0===t?void 0:t.refName:"";return(0,a.useEffect)((()=>{F(x)}),[x,h]),a.createElement("div",{className:n.container},N?a.createElement(d.ErrorMessage,{error:N}):null,a.createElement(o.A,{className:n.importFormContainer},a.createElement("form",{onSubmit:async t=>{var n;if(t.preventDefault(),e.setError(void 0),w)try{(null==f?void 0:f.getDisplayString())===w&&f.hasLocation()?await(0,y.Kd)({option:f,model:e,assemblyName:h}):(null===(n=null==f?void 0:f.results)||void 0===n?void 0:n.length)?e.setSearchResults(f.results,f.getLabel(),h):C&&await(0,y.cm)({input:w,assembly:C,model:e})}catch(e){console.error(e),l.notify(`${e}`,"warning")}}},a.createElement(c.Ay,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.createElement(c.Ay,{item:!0},a.createElement(i.A,null,a.createElement(d.AssemblySelector,{onChange:e=>S(e),localStorageKey:"lgv",session:l,selected:h}))),a.createElement(c.Ay,{item:!0},h?k?a.createElement(g.default,{style:{color:"red"}}):R?a.createElement(i.A,null,a.createElement(v,{value:w,setValue:F,selectedAsm:h,setOption:A,model:e})):a.createElement(m.A,{size:20,disableShrink:!0}):null),a.createElement(c.Ay,{item:!0},a.createElement(i.A,null,a.createElement(u.A,{type:"submit",disabled:!w,className:n.button,variant:"contained",color:"primary"},"Open")),a.createElement(i.A,null,a.createElement(u.A,{disabled:!w,className:n.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(h)},variant:"contained",color:"secondary"},"Show all regions in assembly")))))))}))}}]);