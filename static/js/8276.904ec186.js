"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[8276],{28276:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(96540),l=a(78717),r=a(33551),c=a(1043),o=a(30799),s=a(17681),i=a(1775),u=a(71238),m=a(37071),f=a(51629),v=a(20212),E=a(7562);function d(){return n.createElement("div",null,n.createElement(l.A,{size:20,style:{marginRight:20}}),n.createElement(r.A,{display:"inline"},"Creating SVG"))}function h(e,t){return(0,E.useLocalStorage)("svg-"+e,t)}function g({children:e,...t}){return n.createElement("div",null,n.createElement(c.A,{...t},e))}function y({model:e,handleClose:t}){const a=(0,E.getSession)(e),l="undefined"!=typeof OffscreenCanvas,[c,y]=(0,n.useState)(l),[C,b]=(0,n.useState)(!1),[p,A]=(0,n.useState)(),[k,S]=h("file","jbrowse.svg"),[w,z]=h("tracklabels","offset"),[T,L]=h("theme",a.themeName||"default");return n.createElement(v.Dialog,{open:!0,onClose:t,title:"Export SVG"},n.createElement(o.A,null,p?n.createElement(v.ErrorMessage,{error:p}):C?n.createElement(d,null):null,n.createElement(g,{helperText:"filename",value:k,onChange:e=>S(e.target.value)}),n.createElement(g,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:w,onChange:e=>z(e.target.value)},n.createElement(s.A,{value:"offset"},"Offset"),n.createElement(s.A,{value:"overlay"},"Overlay"),n.createElement(s.A,{value:"left"},"Left"),n.createElement(s.A,{value:"none"},"None")),a.allThemes?n.createElement(g,{select:!0,label:"Theme",variant:"outlined",value:T,onChange:e=>L(e.target.value)},Object.entries(a.allThemes()).map((([e,t])=>n.createElement(s.A,{key:e,value:e},t.name||"(Unknown name)")))):null,l?n.createElement(i.A,{control:n.createElement(u.A,{checked:c,onChange:()=>y((e=>!e))}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):n.createElement(r.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),n.createElement(m.A,null,n.createElement(f.A,{variant:"contained",color:"secondary",onClick:()=>t()},"Cancel"),n.createElement(f.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{b(!0),A(void 0);try{await e.exportSvg({rasterizeLayers:c,filename:k,trackLabels:w,themeName:T}),t()}catch(e){console.error(e),A(e)}finally{b(!1)}}},"Submit")))}}}]);