"use strict";(self.webpackChunkICDC_Frontend=self.webpackChunkICDC_Frontend||[]).push([[1133],{63532:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(96540),r=n(44015),l=n(7562),i=n(92168),a=n(58285),s=n(3822);function c(e,t){var n,o,r,l;const i=t?(0,s.parseBreakend)(t):void 0,a=e.get("start");let c=e.get("end");const u=e.get("strand"),d=e.get("mate"),m=e.get("refName");let f,v=0,g=0,h=0,k=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some((e=>null==t?void 0:t.startsWith(e)))){const t=e.get("INFO"),i=null!==(o=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==o?o:c;f=null!==(l=null===(r=null==t?void 0:t.CHR2)||void 0===r?void 0:r[0])&&void 0!==l?l:m,v=i,g=i-1,c=a+1}else if(null==i?void 0:i.MatePosition){const e=i.MatePosition.split(":");k="left"===i.MateDirection?1:-1,h="left"===i.Join?-1:1,v=+e[1],g=+e[1]-1,f=e[0]}return{k1:{refName:m,start:a,end:c,strand:u,mateDirection:k},k2:null!=d?d:{refName:f,end:v,start:g,mateDirection:h}}}function u(e,t){var n;const{k1:o,k2:r}=c(e,t);return[e.get("name"),e.get("id"),(0,l.assembleLocString)(o),(0,l.assembleLocString)(r),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter((e=>!!e)).join(" - ")}const d=(0,r.observer)((function({model:e,feature:t,alt:n,assembly:r,view:s}){var d,m;const[f,v]=(0,o.useState)(!1),{height:g}=e,{k1:h,k2:k}=c(t,n),p=(0,o.useRef)(null),E=(0,i.getConf)(e,"color",{feature:t,alt:n}),C=r.getCanonicalRefName(h.refName)||h.refName,N=r.getCanonicalRefName(k.refName)||k.refName,x=h.start,P=k.start,b=null===(d=s.bpToPx({refName:C,coord:x}))||void 0===d?void 0:d.offsetPx,y=null===(m=s.bpToPx({refName:N,coord:P}))||void 0===m?void 0:m.offsetPx;if(void 0!==b&&void 0!==y){const r=(y-b)/2,i=Math.abs(r),c=Math.min(g,i),d=b-s.offsetPx,m=y-s.offsetPx,C=f?"black":E,N=3;return i>1?o.createElement(o.Fragment,null,o.createElement("path",{d:`M ${d} 0 C ${d} ${c}, ${m} ${c}, ${m} 0`,ref:p,...(0,l.getStrokeProps)(C),strokeWidth:N,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),fill:"none",pointerEvents:"stroke"}),void 0!==h.mateDirection?o.createElement("line",{...(0,l.getStrokeProps)(C),strokeWidth:N,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),x1:d,x2:d+20*h.mateDirection,y1:1.5,y2:1.5}):null,void 0!==k.mateDirection?o.createElement("line",{...(0,l.getStrokeProps)(C),strokeWidth:N,onMouseOut:()=>v(!1),onMouseOver:()=>v(!0),onClick:()=>e.selectFeature(t),x1:m,x2:m+20*k.mateDirection,y1:1.5,y2:1.5}):null,f?o.createElement(a.A,{contents:u(t,n)}):null):null}return null})),m=(0,r.observer)((function({model:e,exportSVG:t,children:n}){const{height:r}=e,i=(0,l.getContainingView)(e),a=Math.round(i.dynamicBlocks.totalWidthPx);return t?n:o.createElement("svg",{width:a,height:r},n)})),f=(0,r.observer)((function({model:e,exportSVG:t}){const n=(0,l.getContainingView)(e),r=(0,l.getSession)(e),{assemblyManager:i}=r,{features:a}=e,s=i.get(n.assemblyNames[0]);return s?o.createElement(m,{model:e,exportSVG:t},null==a?void 0:a.map((t=>{var l;const i=t.get("ALT");return null!==(l=null==i?void 0:i.map((l=>o.createElement(d,{key:t.id()+"-"+l,session:r,feature:t,alt:l,view:n,model:e,assembly:s}))))&&void 0!==l?l:o.createElement(d,{key:t.id(),session:r,feature:t,view:n,model:e,assembly:s})}))):null}))},61133:(e,t,n)=>{n.d(t,{renderArcSvg:()=>i});var o=n(96540),r=n(7562),l=n(63532);async function i(e,t){await(0,r.when)((()=>!e.loading));const n=(0,r.getContainingView)(e).dynamicBlocks.totalWidthPx,i=e.height,a="arc-"+e.id;return o.createElement(o.Fragment,null,o.createElement("defs",null,o.createElement("clipPath",{id:a},o.createElement("rect",{x:0,y:0,width:n,height:i}))),o.createElement("g",{clipPath:`url(#${a})`},o.createElement(l.A,{model:e,exportSVG:!0})))}}}]);